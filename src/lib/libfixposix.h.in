#if !defined(_LIBFIXPOSIX_H_)
#define _LIBFIXPOSIX_H_

#include <stdlib.h>
#include <stdbool.h>

#include <unistd.h>

#if !defined(O_CLOEXEC)
# define O_CLOEXEC 0
#endif

int lfp_pipe (int pipefd[2], int flags);

#if defined(__linux__)
# if @HAVE_EMULATED_SIGNALFD@ // HAVE_EMULATED_SIGNALFD
struct signalfd_siginfo { unsigned int ssi_signo; };
# else
#  include <sys/signalfd.h>
# endif
#endif

int lfp_install_signalfd(int signum, int sa_flags, bool* blockp);

void lfp_uninstall_signalfd(int signum, bool block);

#endif // _LIBFIXPOSIX_H_
